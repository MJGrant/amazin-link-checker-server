(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),s=a.n(l),c=(a(67),a(68),a(69),a(61)),o=a(7),i=a(8),u=a(10),m=a(9),d=a(11),h=a(116),p=a(117),w=a(112),b=a(108),v=a(118),g=a(119),E=a(111),f=a(13),k=a(109),y=a(110),A=a(54),S=a.n(A),z=a(60),C=[{value:"www.amazon.com",label:"\ud83c\uddfa\ud83c\uddf8 United States - www.amazon.com"},{value:"www.amazon.ca",label:"\ud83c\udde8\ud83c\udde6 Canada - www.amazon.ca"},{value:"www.amazon.com.mx",label:"\ud83c\uddf2\ud83c\uddfd Mexico - www.amazon.com.mx"},{value:"www.amazon.com.br",label:"\ud83c\udde7\ud83c\uddf7 Brazil - www.amazon.com.br"},{value:"www.amazon.co.uk",label:"\ud83c\uddec\ud83c\udde7 United Kingdom - www.amazon.co.uk"},{value:"www.amazon.de",label:"\ud83c\udde9\ud83c\uddea Germany - www.amazon.de"},{value:"www.amazon.fr",label:"\ud83c\uddeb\ud83c\uddf7 France - www.amazon.fr"},{value:"www.amazon.es",label:"\ud83c\uddea\ud83c\uddf8 Spain - www.amazon.es"},{value:"www.amazon.in",label:"\ud83c\uddee\ud83c\uddf3 India - www.amazon.in"},{value:"www.amazon.it",label:"\ud83c\uddee\ud83c\uddf9 Italy - www.amazon.it"},{value:"www.amazon.ae",label:"\ud83c\udde6\ud83c\uddea Arab Emirates - www.amazon.ae"},{value:"www.amazon.sa",label:"\ud83c\uddf8\ud83c\udde6 Saudi Arabia - www.amazon.sa"},{value:"www.amazon.com.tr",label:"\ud83c\uddf9\ud83c\uddf7 Turkey - www.amazon.com.tr"},{value:"www.amazon.nl",label:"\ud83c\uddf3\ud83c\uddf1 Netherlands - www.amazon.nl"},{value:"www.amazon.co.jp",label:"\ud83c\uddef\ud83c\uddf5 Japan - www.amazon.co.jp"},{value:"www.amazon.com.au",label:"\ud83c\udde6\ud83c\uddfa Australia - www.amazon.com.au"},{value:"www.amazon.sg",label:"\ud83c\uddf8\ud83c\uddec Singapore - www.amazon.sg"}],T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},e.target.name,e.target.value),function(){a.isInputValid({name:n,value:r})})},a.selectMarketplace=function(e){console.log(e),a.setState(Object(f.a)({},"marketplace",e.value))},a.handleBlur=function(e){var t=e.target.name;a.setState(Object(f.a)({},t,e.target.value))},a.isInputValid=function(e){var t=e.name,n=e.value,r="".concat(t,"Error");""===a.state[t]?a.setState(Object(f.a)({},r,!0)):"userUrl"===t?new RegExp(/(http:\/\/|https:\/\/)/).test(n)?a.setState(Object(f.a)({},r,!1)):a.setState(Object(f.a)({},r,!0)):a.setState(Object(f.a)({},r,!1))},a.validateForm=function(){a.setState({touched:{userTag:!0,userAccessKey:!0,userSecret:!0,userUrl:!0}}),a.isInputValid({name:"userTag",value:a.state.userUrl}),a.isInputValid({name:"userAccessKey",value:a.state.userAccessKey}),a.isInputValid({name:"userSecret",value:a.state.userSecret}),a.isInputValid({name:"userUrl",value:a.state.userUrl})},a.state={userUrl:"",userTag:"",userAccessKey:"",userSecret:"",marketplace:C[0].value,userTagError:"",userAccessKeyError:"",userSecretError:"",userUrlError:"",touched:{userTag:!1,userAccessKey:!1,userSecret:!1,userUrl:!1}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.handleClick,a=this.state,n=a.userUrl,l=a.userTag,s=a.userAccessKey,c=a.userSecret,o=a.marketplace,i=function(t){var a=e.state[t],n=t.replace("Error",""),r=e.state.touched[n];return!!a&&r};return r.a.createElement(b.a,{lg:6},r.a.createElement("div",{className:S.a.formComponent},r.a.createElement(k.a,null,r.a.createElement(x,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingAssociate.html"},"Amazon Associate")," Tag"),errorClass:i("userTagError")?"is-invalid":"",nameVal:"userTag",val:l,fieldID:"enter-tag",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"your-tag-20",feedbackText:"Must include Amazon Associate Tag"}),r.a.createElement(x,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://webservices.amazon.com/paapi5/documentation/register-for-pa-api.html"},"Access Key ID")),errorClass:i("userAccessKeyError")?"is-invalid":"",nameVal:"userAccessKey",val:s,fieldID:"enter-key-id",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"Access key ID",feedbackText:"Please provide your Access Key ID"}),r.a.createElement(x,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://webservices.amazon.com/paapi5/documentation/register-for-pa-api.html"},"Secret Access Key")),errorClass:i("userSecretError")?"is-invalid":"",nameVal:"userSecret",val:c,fieldID:"enter-secret",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"Secret Access Key",feedbackText:"Please provide your Secret Access Key"}),r.a.createElement(x,{labelContents:"Your Article URL",errorClass:i("userUrlError")?"is-invalid":"",nameVal:"userUrl",val:n,fieldID:"enter-url",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"http://your-site.com/yourarticle",feedbackText:"Must enter the URL to an article (include http:// or https://)"}),r.a.createElement(y.a,{for:"marketplace-select"},"Marketplace"),r.a.createElement(z.a,{id:"marketplace-select",name:"marketplace",defaultValue:C[0],options:C,onChange:this.selectMarketplace}),r.a.createElement("br",null),r.a.createElement(E.a,{id:"button-submit-form",color:"primary",onClick:function(){return t(n,e.validateForm,s,c,l,o)}},"Test"))))}}]),t}(n.Component),P=a(113),I=a(114),O=a(115),x=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldID,a=e.labelContents,n=e.errorClass,l=e.nameVal,s=e.val,c=e.handleChange,o=e.handleBlur,i=e.feedbackText,u=e.placeholderText;return r.a.createElement(w.a,{form:!0},r.a.createElement(b.a,{lg:12},r.a.createElement(P.a,null,r.a.createElement(y.a,{for:t},a),r.a.createElement(I.a,{className:n,type:"text",name:l,value:s,onChange:c,onBlur:o,id:t,placeholder:u}),r.a.createElement(O.a,null,i))))}}]),t}(n.Component);x.defaultProps={fieldID:"",labelContents:"",errorClass:"",nameVal:"",val:"",placeholderText:""};var j=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.recentLink,a=e.index,n=e.handleClick;return r.a.createElement("tr",null,r.a.createElement("td",{className:"tableUsersLinkText"},r.a.createElement("a",{href:t,id:"recent-url-"+a},t)),r.a.createElement("td",{width:"80"},r.a.createElement(E.a,{color:"warning",size:"sm",id:"button-retest-"+a,onClick:n},"Re-test")))}}]),t}(n.Component);j.defaultProps={recentLink:""};var D=a(14),N=a(57),R=a.n(N),L=a(58),U=a.n(L),K=R()(),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={scrapeInProgress:!1,links:[],affiliateLinkCount:-1,recentArticles:[],linksProcessed:0,currentArticleLink:"",socketID:"",testStopped:!1,userAccessKey:"",userSecret:"",userTag:"",marketplace:""},a.handleClick=function(e,t,n,r,l,s){var o=!0;t&&(t(),o=!1),new RegExp(/(http:\/\/|https:\/\/)/).test(e)?n&&r&&l?(a.setState({scrapeInProgress:!0}),a.setState({links:[]}),a.setState({count:0}),a.setState({linksProcessed:0}),a.setState({affiliateLinkCount:-1}),a.setState({currentArticleLink:e}),a.setState({userAccessKey:n}),a.setState({userSecret:r}),a.setState({userTag:l}),a.setState({marketplace:s}),o||a.setState({recentArticles:[e].concat(Object(c.a)(a.state.recentArticles))}),D.animateScroll.scrollToBottom(),a.setState({testStopped:!1}),K.emit("beginProcessing",e,a.state.socketID,n,r,l,s)):console.log("One or more Amazon credential(s) are missing"):console.log("This url does not have http(s)://",e)},a.barProgress=0,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.on("connect",function(){K.id?e.setState({socketID:K.id}):console.log("no socket id")}),K.on("staticDataReceived",function(t){t.length&&e.setState({links:t})}),K.on("urlsScraped",function(t){e.setState({affiliateLinkCount:t}),e.setState({linksProcessed:0}),e.setState({links:[]})}),K.on("serverDataReceived",function(t,a,n){t?(e.setState({links:t}),e.setState({linksProcessed:a}),e.setState({scrapeInProgress:n})):console.log("No data came back")}),D.Events.scrollEvent.register("begin",function(e,t){}),D.Events.scrollEvent.register("end",function(e,t){}),D.scrollSpy.update()}},{key:"componentWillUnmount",value:function(){D.Events.scrollEvent.remove("begin"),D.Events.scrollEvent.remove("end"),K.removeListener("staticDataReceived"),K.removeListener("urlsScraped"),K.removeListener("serverDataReceived")}},{key:"displayAmazonResults",value:function(e){return e.filter(function(e){return null!==e&&void 0!==e}).map(function(e,t){var a=e,n="glyphicon glyphicon-remove text-danger";a.validOnAmazon&&(n="glyphicon glyphicon-ok text-success"),"Processing..."===a.itemName&&(n="glyphicon glyphicon-question-sign text-muted");var l=r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"tableUsersLinkText"},r.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},a.urlText)),r.a.createElement("td",null,r.a.createElement("span",{className:n})),r.a.createElement("td",{className:"tableProductTitle"},a.itemName,r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Tag: ",a.tag))));return a||a.url,l})}},{key:"displayRecentArticles",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return null!==e&&void 0!==e}).map(function(t,a){var n=r.a.createElement(j,{recentLink:t,handleClick:function(){return e.handleClick(t,"",e.state.userAccessKey,e.state.userSecret,e.state.userTag,e.state.marketplace)},key:a,index:a});return a<8?n:null})}},{key:"stopOrRestartCurrentTest",value:function(e,t){t<100?(this.setState({testStopped:!0}),K.emit("stopSignal",this.state.socketID)):t>=100&&this.handleClick(e,"",this.state.userAccessKey,this.state.userSecret,this.state.userTag,this.state.marketplace)}},{key:"render",value:function(){var e=this,t=this.state,a=t.links,n=t.affiliateLinkCount,l=t.recentArticles,s=t.linksProcessed,c=t.scrapeInProgress,o=t.currentArticleLink,i=a.length?this.displayAmazonResults(a):null,u=l.length?this.displayRecentArticles(l):null,m="Reticulating splines...";return c?(this.barProgress=2,m="Scraping your site for Amazon links..."):0===s&&0===n?(this.barProgress=100,m="No links found"):s>0&&s<n?(this.barProgress=s/n*100,m="Checking with Amazon (finished ".concat(s," of ").concat(n,"))")):s>=n&&n>0&&(this.barProgress=100,m="Done!"),this.state.testStopped&&(this.barProgress=100,m="Test stopped by user!"),r.a.createElement("div",null,r.a.createElement(h.a,{id:"app-container",className:U.a.LinkCheckerContainer},r.a.createElement(p.a,{fluid:!0},r.a.createElement("link",{href:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css",rel:"stylesheet"}),r.a.createElement("h2",{id:"link-checker-title"},"Amazin' Affiliate Link Checker"),r.a.createElement("p",null,"Identify broken, outdated and mis-tagged Amazon product links in your blog articles.",r.a.createElement("br",null),"Requires an Amazon Associates account and Amazon Product Advertising API credentials. ",r.a.createElement("a",{href:"/"},r.a.createElement("br",null),"Watch a demo video.")),r.a.createElement(w.a,null,r.a.createElement(T,{handleClick:this.handleClick}),r.a.createElement(b.a,{lg:6},r.a.createElement("div",null,r.a.createElement("h4",null,"Recently tested urls"),r.a.createElement(v.a,null,r.a.createElement("tbody",{id:"recent-article-links"},u)))))),r.a.createElement(D.Element,{name:"scrollToElement",className:"element"}),r.a.createElement("div",{className:0===this.barProgress?"hidden":""},r.a.createElement("h3",{id:"progress"},"Progress"),r.a.createElement("p",{className:""===o?"hidden":""},r.a.createElement("label",null,"Your article's URL"),r.a.createElement("br",null)," ",r.a.createElement("a",{href:o},o)),r.a.createElement("div",{className:"pad-bottom"},r.a.createElement("div",{className:"text-center"},m,r.a.createElement(g.a,{color:"info",value:this.barProgress})),r.a.createElement(E.a,{className:this.barProgress<100?"btn-danger center-block":"btn-warning center-block",onClick:function(){return e.stopOrRestartCurrentTest(o,e.barProgress)}},this.barProgress<100&&!this.state.testStopped?"Stop test":"Re-run test"))),r.a.createElement("div",{className:0===this.barProgress?"hidden":""},r.a.createElement("h3",null,"Results"),r.a.createElement("p",null,s," / ",n," Affiliate links processed"),r.a.createElement(v.a,{hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"120"},"Your article's Amazon links"),r.a.createElement("th",{width:"60"},"Valid"),r.a.createElement("th",{width:"300"},"Product title"))),r.a.createElement("tbody",null,i)))),r.a.createElement(h.a,{fluid:!0,className:"dark-grey-bg"},r.a.createElement(w.a,{className:"pad-footer"},r.a.createElement(b.a,{lg:"5"},r.a.createElement("label",null,"Who this tool is for"),r.a.createElement("p",null,'This tool is intended for Amazon Associates ("affiliates") with established websites.'),r.a.createElement("label",null,"Why use this tool"),r.a.createElement("p",null,'For a variety of reasons, your site\'s Amazon.com product links may become outdated. When this happens, your visitors end up on 404 pages ("dog pages") instead of the product(s) you meant to show them. This tool helps you quickly locate those dead links.'),r.a.createElement("label",null,"How it works"),r.a.createElement("p",null,"This tool scans your article for Amazon product links. It extracts a product ID from each link and checks that the product ID is valid. This website does not store your credentials or any information about your site.")),r.a.createElement(b.a,{lg:"1"}),r.a.createElement(b.a,{lg:"5"},r.a.createElement("label",null,"Interpreting your results"),r.a.createElement("p",null,'Unfortunately, not every product on Amazon is in the Amazon Product Advertising API. Valid links may be marked "invalid" by this tool if the product doesn\'t exist in the API, even if it exists on Amazon.'),r.a.createElement("p",null,'The tool also considers links to Amazon.com search results to be "invalid" even though they are perfectly acceptable to Amazon and your site\'s users.'),r.a.createElement("p",null,'You should manually confirm any "invalid" results you get.'),r.a.createElement("label",null,"About the author"),r.a.createElement("p",null,"This tool was created by blogger and web developer ",r.a.createElement("a",{href:"https://github.com/MJGrant"},"Mandi Burley"),".")))))}}]),t}(n.Component),V=a(59),M=a.n(V);var W=function(){return r.a.createElement("div",{className:M.a.appContainer},r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},62:function(e,t,a){e.exports=a(107)},67:function(e,t,a){},68:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.3790e52a.chunk.js.map